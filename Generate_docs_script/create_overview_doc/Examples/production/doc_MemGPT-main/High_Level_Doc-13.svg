<svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="-7.5 -8 545.3515625 704" style="max-width: 545.352px; background-color: white;" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="100%" id="my-svg"><style>#my-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#my-svg .error-icon{fill:#552222;}#my-svg .error-text{fill:#552222;stroke:#552222;}#my-svg .edge-thickness-normal{stroke-width:2px;}#my-svg .edge-thickness-thick{stroke-width:3.5px;}#my-svg .edge-pattern-solid{stroke-dasharray:0;}#my-svg .edge-pattern-dashed{stroke-dasharray:3;}#my-svg .edge-pattern-dotted{stroke-dasharray:2;}#my-svg .marker{fill:#333333;stroke:#333333;}#my-svg .marker.cross{stroke:#333333;}#my-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#my-svg .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#my-svg .cluster-label text{fill:#333;}#my-svg .cluster-label span,#my-svg p{color:#333;}#my-svg .label text,#my-svg span,#my-svg p{fill:#333;color:#333;}#my-svg .node rect,#my-svg .node circle,#my-svg .node ellipse,#my-svg .node polygon,#my-svg .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#my-svg .flowchart-label text{text-anchor:middle;}#my-svg .node .label{text-align:center;}#my-svg .node.clickable{cursor:pointer;}#my-svg .arrowheadPath{fill:#333333;}#my-svg .edgePath .path{stroke:#333333;stroke-width:2.0px;}#my-svg .flowchart-link{stroke:#333333;fill:none;}#my-svg .edgeLabel{background-color:#e8e8e8;text-align:center;}#my-svg .edgeLabel rect{opacity:0.5;background-color:#e8e8e8;fill:#e8e8e8;}#my-svg .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#my-svg .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#my-svg .cluster text{fill:#333;}#my-svg .cluster span,#my-svg p{color:#333;}#my-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#my-svg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#my-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="12" markerWidth="12" markerUnits="userSpaceOnUse" refY="5" refX="6" viewBox="0 0 10 10" class="marker flowchart" id="my-svg_flowchart-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"/></marker><marker orient="auto" markerHeight="12" markerWidth="12" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart" id="my-svg_flowchart-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart" id="my-svg_flowchart-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart" id="my-svg_flowchart-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart" id="my-svg_flowchart-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart" id="my-svg_flowchart-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><g class="root"><g class="clusters"/><g class="edgePaths"/><g class="edgeLabels"/><g class="nodes"><g transform="translate(-7.5, -8)" class="root"><g class="clusters"><g id="base.py" class="cluster default flowchart-label"><rect height="688" width="529.3515625" y="8" x="8" ry="0" rx="0" style=""/><g transform="translate(245.07421875, 8)" class="cluster-label"><foreignObject height="18.5" width="55.203125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">base.py</span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#my-svg_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-A LE-B" id="L-A-B-0" d="M256.46875,59.75L267.7552083333333,59.75C279.0416666666667,59.75,301.6145833333333,59.75,326.4059914801831,70.33023849051592C351.19739962703284,80.91047698103185,378.2072992540657,102.0709539620637,391.71224906758215,112.65119245257962L405.2171988810985,123.23143094309555"/><path marker-end="url(#my-svg_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-C LE-D" id="L-C-D-0" d="M269.26171875,310.25L278.416015625,310.25C287.5703125,310.25,305.87890625,310.25,319.2787760416667,310.25C332.67864583333335,310.25,341.16979166666664,310.25,345.4153645833333,310.25L349.6609375,310.25"/><path marker-end="url(#my-svg_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-E LE-B" id="L-E-B-0" d="M285.19921875,143.25L291.697265625,143.25C298.1953125,143.25,311.19140625,143.25,325.48841145833336,143.25C339.78541666666666,143.25,355.3833333333334,143.25,363.1822916666667,143.25L370.98125,143.25"/><path marker-end="url(#my-svg_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-F LE-B" id="L-F-B-0" d="M285.70703125,226.75L292.1204427083333,226.75C298.5338541666667,226.75,311.3606770833333,226.75,331.2790383551831,216.16976150948406C351.19739962703284,205.58952301896815,378.2072992540657,184.42904603793627,391.71224906758215,173.8488075474204L405.2171988810985,163.26856905690445"/><path marker-end="url(#my-svg_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-G LE-H" id="L-G-H-0" d="M278.796875,393.75L286.3619791666667,393.75C293.9270833333333,393.75,309.0572916666667,393.75,326.43684255383687,397.59448622132095C343.81639344100705,401.4389724426419,363.4452868820142,409.1279448852838,373.25973360251777,412.97243110660474L383.0741803230213,416.8169173279257"/><path marker-end="url(#my-svg_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-I LE-H" id="L-I-H-0" d="M299.1875,477.25L303.3541666666667,477.25C307.5208333333333,477.25,315.8541666666667,477.25,329.83528005383687,473.40551377867905C343.81639344100705,469.5610275573581,363.4452868820142,461.8720551147162,373.25973360251777,458.02756889339526L383.0741803230213,454.1830826720743"/><path marker-end="url(#my-svg_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-J LE-K" id="L-J-K-0" d="M292.10546875,560.75L297.4524739583333,560.75C302.7994791666667,560.75,313.4934895833333,560.75,328.6549415121702,564.594486221321C343.81639344100705,568.4389724426419,363.4452868820142,576.1279448852838,373.25973360251777,579.9724311066047L383.0741803230213,583.8169173279257"/><path marker-end="url(#my-svg_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-L LE-K" id="L-L-K-0" d="M294.81640625,644.25L299.7115885416667,644.25C304.6067708333333,644.25,314.3971354166667,644.25,329.10676442883687,640.405513778679C343.81639344100705,636.5610275573581,363.4452868820142,628.8720551147162,373.25973360251777,625.0275688933953L383.0741803230213,621.1830826720743"/></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(430.76953125, 143.25)" id="flowchart-B-1" class="node default default flowchart-label"><rect height="33.5" width="108.9765625" y="-16.75" x="-54.48828125" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-46.98828125, -9.25)" style="" class="label"><rect/><foreignObject height="18.5" width="93.9765625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Core Memory</span></div></foreignObject></g></g><g transform="translate(166.09375, 59.75)" id="flowchart-A-0" class="node default default flowchart-label"><rect height="33.5" width="180.75" y="-16.75" x="-90.375" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-82.875, -9.25)" style="" class="label"><rect/><foreignObject height="18.5" width="165.75"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">send_message function</span></div></foreignObject></g></g><g transform="translate(166.09375, 310.25)" id="flowchart-C-2" class="node default default flowchart-label"><rect height="33.5" width="206.3359375" y="-16.75" x="-103.16796875" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-95.66796875, -9.25)" style="" class="label"><rect/><foreignObject height="18.5" width="191.3359375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">pause_heartbeats function</span></div></foreignObject></g></g><g transform="translate(430.76953125, 310.25)" id="flowchart-D-3" class="node default default flowchart-label"><rect height="33.5" width="151.6171875" y="-16.75" x="-75.80859375" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-68.30859375, -9.25)" style="" class="label"><rect/><foreignObject height="18.5" width="136.6171875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Heartbeats Control</span></div></foreignObject></g></g><g transform="translate(166.09375, 143.25)" id="flowchart-E-4" class="node default default flowchart-label"><rect height="33.5" width="238.2109375" y="-16.75" x="-119.10546875" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-111.60546875, -9.25)" style="" class="label"><rect/><foreignObject height="18.5" width="223.2109375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">core_memory_append function</span></div></foreignObject></g></g><g transform="translate(166.09375, 226.75)" id="flowchart-F-6" class="node default default flowchart-label"><rect height="33.5" width="239.2265625" y="-16.75" x="-119.61328125" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-112.11328125, -9.25)" style="" class="label"><rect/><foreignObject height="18.5" width="224.2265625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">core_memory_replace function</span></div></foreignObject></g></g><g transform="translate(166.09375, 393.75)" id="flowchart-G-8" class="node default default flowchart-label"><rect height="33.5" width="225.40625" y="-16.75" x="-112.703125" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-105.203125, -9.25)" style="" class="label"><rect/><foreignObject height="18.5" width="210.40625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">conversation_search function</span></div></foreignObject></g></g><g transform="translate(430.76953125, 435.5)" id="flowchart-H-9" class="node default default flowchart-label"><rect height="33.5" width="163.1640625" y="-16.75" x="-81.58203125" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-74.08203125, -9.25)" style="" class="label"><rect/><foreignObject height="18.5" width="148.1640625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Conversation History</span></div></foreignObject></g></g><g transform="translate(166.09375, 477.25)" id="flowchart-I-10" class="node default default flowchart-label"><rect height="33.5" width="266.1875" y="-16.75" x="-133.09375" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-125.59375, -9.25)" style="" class="label"><rect/><foreignObject height="18.5" width="251.1875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">conversation_search_date function</span></div></foreignObject></g></g><g transform="translate(166.09375, 560.75)" id="flowchart-J-12" class="node default default flowchart-label"><rect height="33.5" width="252.0234375" y="-16.75" x="-126.01171875" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-118.51171875, -9.25)" style="" class="label"><rect/><foreignObject height="18.5" width="237.0234375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">archival_memory_insert function</span></div></foreignObject></g></g><g transform="translate(430.76953125, 602.5)" id="flowchart-K-13" class="node default default flowchart-label"><rect height="33.5" width="133.71875" y="-16.75" x="-66.859375" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-59.359375, -9.25)" style="" class="label"><rect/><foreignObject height="18.5" width="118.71875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Archival Memory</span></div></foreignObject></g></g><g transform="translate(166.09375, 644.25)" id="flowchart-L-14" class="node default default flowchart-label"><rect height="33.5" width="257.4453125" y="-16.75" x="-128.72265625" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-121.22265625, -9.25)" style="" class="label"><rect/><foreignObject height="18.5" width="242.4453125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">archival_memory_search function</span></div></foreignObject></g></g></g></g></g></g></g></svg>