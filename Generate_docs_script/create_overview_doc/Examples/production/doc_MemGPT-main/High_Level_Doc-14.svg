<svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="-8 -8 1465.9453125 467" style="max-width: 1465.95px; background-color: white;" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="100%" id="my-svg"><style>#my-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#my-svg .error-icon{fill:#552222;}#my-svg .error-text{fill:#552222;stroke:#552222;}#my-svg .edge-thickness-normal{stroke-width:2px;}#my-svg .edge-thickness-thick{stroke-width:3.5px;}#my-svg .edge-pattern-solid{stroke-dasharray:0;}#my-svg .edge-pattern-dashed{stroke-dasharray:3;}#my-svg .edge-pattern-dotted{stroke-dasharray:2;}#my-svg .marker{fill:#333333;stroke:#333333;}#my-svg .marker.cross{stroke:#333333;}#my-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#my-svg .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#my-svg .cluster-label text{fill:#333;}#my-svg .cluster-label span,#my-svg p{color:#333;}#my-svg .label text,#my-svg span,#my-svg p{fill:#333;color:#333;}#my-svg .node rect,#my-svg .node circle,#my-svg .node ellipse,#my-svg .node polygon,#my-svg .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#my-svg .flowchart-label text{text-anchor:middle;}#my-svg .node .label{text-align:center;}#my-svg .node.clickable{cursor:pointer;}#my-svg .arrowheadPath{fill:#333333;}#my-svg .edgePath .path{stroke:#333333;stroke-width:2.0px;}#my-svg .flowchart-link{stroke:#333333;fill:none;}#my-svg .edgeLabel{background-color:#e8e8e8;text-align:center;}#my-svg .edgeLabel rect{opacity:0.5;background-color:#e8e8e8;fill:#e8e8e8;}#my-svg .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#my-svg .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#my-svg .cluster text{fill:#333;}#my-svg .cluster span,#my-svg p{color:#333;}#my-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#my-svg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#my-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="12" markerWidth="12" markerUnits="userSpaceOnUse" refY="5" refX="6" viewBox="0 0 10 10" class="marker flowchart" id="my-svg_flowchart-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"/></marker><marker orient="auto" markerHeight="12" markerWidth="12" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart" id="my-svg_flowchart-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart" id="my-svg_flowchart-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart" id="my-svg_flowchart-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart" id="my-svg_flowchart-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart" id="my-svg_flowchart-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><g class="root"><g class="clusters"/><g class="edgePaths"><path marker-end="url(#my-svg_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-A LE-B" id="L-A-B-0" d="M583.45703125,33.5L583.45703125,37.666666666666664C583.45703125,41.833333333333336,583.45703125,50.166666666666664,583.45703125,57.61666666666667C583.45703125,65.06666666666666,583.45703125,71.63333333333334,583.45703125,74.91666666666667L583.45703125,78.2"/><path marker-end="url(#my-svg_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-B LE-C" id="L-B-C-0" d="M523.4106006736527,117L508.47367764471056,121.16666666666667C493.5367546157684,125.33333333333333,463.66290855788424,133.66666666666666,448.72598552894215,141.11666666666667C433.7890625,148.56666666666666,433.7890625,155.13333333333333,433.7890625,158.41666666666666L433.7890625,161.7"/><path marker-end="url(#my-svg_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-B LE-D" id="L-B-D-0" d="M643.5034618263473,117L658.4403848552894,121.16666666666667C673.3773078842315,125.33333333333333,703.2511539421157,133.66666666666666,718.1880769710579,141.11666666666667C733.125,148.56666666666666,733.125,155.13333333333333,733.125,158.41666666666666L733.125,161.7"/><path marker-end="url(#my-svg_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-D LE-E" id="L-D-E-0" d="M576.46875,193.90485107441125L495.2337239583333,199.17070922867606C413.9986979166667,204.4365673829408,251.52864583333334,214.96828369147042,170.29361979166666,223.51747517906855C89.05859375,232.0666666666667,89.05859375,238.63333333333333,89.05859375,241.91666666666666L89.05859375,245.2"/><path marker-end="url(#my-svg_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-D LE-F" id="L-D-F-0" d="M577.096744011976,200.5L538.2837450099801,204.66666666666666C499.470746007984,208.83333333333334,421.84474800399204,217.16666666666666,383.03174900199605,224.61666666666667C344.21875,232.0666666666667,344.21875,238.63333333333333,344.21875,241.91666666666666L344.21875,245.2"/><path marker-end="url(#my-svg_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-D LE-G" id="L-D-G-0" d="M683.2323166167664,200.5L670.8212013473053,204.66666666666666C658.4100860778443,208.83333333333334,633.5878555389221,217.16666666666666,621.176740269461,224.61666666666667C608.765625,232.0666666666667,608.765625,238.63333333333333,608.765625,241.91666666666666L608.765625,245.2"/><path marker-end="url(#my-svg_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-D LE-H" id="L-D-H-0" d="M783.0176833832336,200.5L795.4287986526947,204.66666666666666C807.8399139221557,208.83333333333334,832.6621444610779,217.16666666666666,845.073259730539,224.61666666666667C857.484375,232.0666666666667,857.484375,238.63333333333333,857.484375,241.91666666666666L857.484375,245.2"/><path marker-end="url(#my-svg_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-D LE-I" id="L-D-I-0" d="M885.1929968188623,200.5L923.0208567240519,204.66666666666666C960.8487166292416,208.83333333333334,1036.5044364396208,217.16666666666666,1074.3322963448104,224.61666666666667C1112.16015625,232.0666666666667,1112.16015625,238.63333333333333,1112.16015625,241.91666666666666L1112.16015625,245.2"/><path marker-end="url(#my-svg_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-D LE-J" id="L-D-J-0" d="M889.78125,194.2124796135797L967.8600260416666,199.42706634464972C1045.9388020833333,204.6416530757198,1202.0963541666667,215.07082653785992,1280.1751302083333,223.5687466022633C1358.25390625,232.0666666666667,1358.25390625,238.63333333333333,1358.25390625,241.91666666666666L1358.25390625,245.2"/><path marker-end="url(#my-svg_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-E LE-K" id="L-E-K-0" d="M89.05859375,284L89.05859375,288.1666666666667C89.05859375,292.3333333333333,89.05859375,300.6666666666667,188.8001777641688,310.0796868537936C288.5417617783377,319.4927070409205,488.02492980667535,329.98541408184093,587.7665138208441,335.23176760230115L687.508097835013,340.47812112276137"/><path marker-end="url(#my-svg_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-F LE-K" id="L-F-K-0" d="M344.21875,284L344.21875,288.1666666666667C344.21875,292.3333333333333,344.21875,300.6666666666667,401.43506406769956,309.2687129507808C458.65137813539906,317.87075923489493,573.0840062707982,326.7415184697899,630.3003203384977,331.1768980872374L687.5166344061973,335.6122777046849"/><path marker-end="url(#my-svg_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-G LE-K" id="L-G-K-0" d="M608.765625,284L608.765625,288.1666666666667C608.765625,292.3333333333333,608.765625,300.6666666666667,635.2404071261765,308.8669532584174C661.715189252353,317.06723985016816,714.6647535047059,325.1344797003364,741.1395356308825,329.16809962542044L767.614317757059,333.20171955050455"/><path marker-end="url(#my-svg_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-H LE-K" id="L-H-K-0" d="M857.484375,284L857.484375,288.1666666666667C857.484375,292.3333333333333,857.484375,300.6666666666667,859.5522759607335,308.2446198695765C861.6201769214671,315.8225730724864,865.755978842934,322.6451461449728,867.8238798036676,326.056432681216L869.891780764401,329.4677192174592"/><path marker-end="url(#my-svg_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-I LE-K" id="L-I-K-0" d="M1112.16015625,284L1112.16015625,288.1666666666667C1112.16015625,292.3333333333333,1112.16015625,300.6666666666667,1090.1382731854167,308.84181261045904C1068.1163901208333,317.0169585542514,1024.0726239916667,325.0339171085028,1002.0507409270832,329.0423963856285L980.0288578624999,333.0508756627542"/><path marker-end="url(#my-svg_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-J LE-K" id="L-J-K-0" d="M1358.25390625,284L1358.25390625,288.1666666666667C1358.25390625,292.3333333333333,1358.25390625,300.6666666666667,1311.5557286745363,308.9338782151631C1264.857551099073,317.2010897636595,1171.4611959481456,325.40217952731905,1124.7630183726822,329.5027244091488L1078.0648407972185,333.6032692909786"/><path marker-end="url(#my-svg_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-K LE-L" id="L-K-L-0" d="M882.79296875,367.5L882.79296875,371.6666666666667C882.79296875,375.8333333333333,882.79296875,384.1666666666667,882.79296875,391.6166666666666C882.79296875,399.06666666666666,882.79296875,405.6333333333334,882.79296875,408.9166666666667L882.79296875,412.2"/></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(583.45703125, 16.75)" id="flowchart-A-0" class="node default default flowchart-label"><rect height="33.5" width="130.09375" y="-16.75" x="-65.046875" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-57.546875, -9.25)" style="" class="label"><rect/><foreignObject height="18.5" width="115.09375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">ChatCompletion</span></div></foreignObject></g></g><g transform="translate(583.45703125, 100.25)" id="flowchart-B-1" class="node default default flowchart-label"><rect height="33.5" width="166.6796875" y="-16.75" x="-83.33984375" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-75.83984375, -9.25)" style="" class="label"><rect/><foreignObject height="18.5" width="151.6796875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">get_chat_completion</span></div></foreignObject></g></g><g transform="translate(433.7890625, 183.75)" id="flowchart-C-3" class="node default default flowchart-label"><rect height="33.5" width="185.359375" y="-16.75" x="-92.6796875" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-85.1796875, -9.25)" style="" class="label"><rect/><foreignObject height="18.5" width="170.359375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">get_available_wrappers</span></div></foreignObject></g></g><g transform="translate(733.125, 183.75)" id="flowchart-D-5" class="node default default flowchart-label"><rect height="33.5" width="313.3125" y="-16.75" x="-156.65625" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-149.15625, -9.25)" style="" class="label"><rect/><foreignObject height="18.5" width="298.3125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">llm_wrapper.chat_completion_to_prompt</span></div></foreignObject></g></g><g transform="translate(89.05859375, 267.25)" id="flowchart-E-7" class="node default default flowchart-label"><rect height="33.5" width="178.1171875" y="-16.75" x="-89.05859375" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-81.55859375, -9.25)" style="" class="label"><rect/><foreignObject height="18.5" width="163.1171875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">get_webui_completion</span></div></foreignObject></g></g><g transform="translate(344.21875, 267.25)" id="flowchart-F-9" class="node default default flowchart-label"><rect height="33.5" width="232.203125" y="-16.75" x="-116.1015625" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-108.6015625, -9.25)" style="" class="label"><rect/><foreignObject height="18.5" width="217.203125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">get_webui_completion_legacy</span></div></foreignObject></g></g><g transform="translate(608.765625, 267.25)" id="flowchart-G-11" class="node default default flowchart-label"><rect height="33.5" width="196.890625" y="-16.75" x="-98.4453125" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-90.9453125, -9.25)" style="" class="label"><rect/><foreignObject height="18.5" width="181.890625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">get_lmstudio_completion</span></div></foreignObject></g></g><g transform="translate(857.484375, 267.25)" id="flowchart-H-13" class="node default default flowchart-label"><rect height="33.5" width="200.546875" y="-16.75" x="-100.2734375" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-92.7734375, -9.25)" style="" class="label"><rect/><foreignObject height="18.5" width="185.546875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">get_llamacpp_completion</span></div></foreignObject></g></g><g transform="translate(1112.16015625, 267.25)" id="flowchart-I-15" class="node default default flowchart-label"><rect height="33.5" width="208.8046875" y="-16.75" x="-104.40234375" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-96.90234375, -9.25)" style="" class="label"><rect/><foreignObject height="18.5" width="193.8046875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">get_koboldcpp_completion</span></div></foreignObject></g></g><g transform="translate(1358.25390625, 267.25)" id="flowchart-J-17" class="node default default flowchart-label"><rect height="33.5" width="183.3828125" y="-16.75" x="-91.69140625" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-84.19140625, -9.25)" style="" class="label"><rect/><foreignObject height="18.5" width="168.3828125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">get_ollama_completion</span></div></foreignObject></g></g><g transform="translate(882.79296875, 350.75)" id="flowchart-K-19" class="node default default flowchart-label"><rect height="33.5" width="379.984375" y="-16.75" x="-189.9921875" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-182.4921875, -9.25)" style="" class="label"><rect/><foreignObject height="18.5" width="364.984375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">llm_wrapper.output_to_chat_completion_response</span></div></foreignObject></g></g><g transform="translate(882.79296875, 434.25)" id="flowchart-L-31" class="node default default flowchart-label"><rect height="33.5" width="80.3125" y="-16.75" x="-40.15625" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-32.65625, -9.25)" style="" class="label"><rect/><foreignObject height="18.5" width="65.3125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Response</span></div></foreignObject></g></g></g></g></g></svg>